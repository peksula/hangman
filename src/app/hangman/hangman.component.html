<div id="main">

  <h1>XF Hangman</h1>
  
  <section>
    <div class="sentence">
      <span *ngIf="formattedSentence$">
        {{ formattedSentence$ | async }}
      </span>
    </div>
    <div class="help-text">
      {{ game.help.text }}
    </div>
    <div class="message">
      {{ message }}
    </div>
  </section>

  <section>
    <div class="hangman">
      {{ game.mistake.remaining }}
    </div>

    <div class="letter-buttons">
      <div *ngFor="let letter_row of lettersRows">
        <app-letter
            *ngFor="let letter of letter_row" [letter]="letter" [game]="game" (guessed)="onGuess($event)">
        </app-letter>
      </div>
    </div>
  </section>

  <section>
    <span>
      <div class="button-row">
        <button class="control-button" *ngIf="game.state == 1 || game.state == 4" (click)="onStart()" mat-raised-button color="primary">
          New Game!
        </button>
        <button class="control-button" *ngIf="game.state == 3" (click)="onNext()" mat-raised-button color="primary">
          Next!
        </button>
        <button class="control-button" *ngIf="game.state == 2" (click)="onHelp()" mat-raised-button color="primary" [disabled]="game.help.remaining==0">
          Help me! ({{ game.help.remaining }})
        </button>
      </div>
    </span>
  </section>

  <section>
    <div class="high-scores">
      <app-high-scores></app-high-scores>
    </div>

    <div class="instructions">
        <app-instructions [game]="game"></app-instructions>
    </div>
  </section>

  <section>
    <div class="score">
      <app-score [game]="game">
      </app-score>
    </div>
  </section>

  <hr>

  <section>
    <div class="i-made-this">
      I made this! @xfpekka, 2022<br>
      v.0.3, April 10th.<br>
      Still in progress.<br>
    </div>
  </section>

</div>
